@inherits UmbracoViewPage<CountrySelectorViewModel>

@if (Model?.Countries != null && Model.Countries.Any() && Model.Current != null)
{
    <div class="country-selector">
        <span>
            @Umbraco.GetDictionaryValue(DictionaryItems.Country):
        </span>
        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
            <span class="flag-icon flag-icon-@Model.Current.Name.ToLower()"></span>
            @Model.Current.CountryName
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
            @foreach (var country in Model.Countries)
            {
                if (country.Id.Equals(Model.Current.Id))
                {
                    <li>
                        <a href="@country.Url">
                            <span class="flag-icon flag-icon-@country.Name.ToLower()"></span>
                            <strong>@country.CountryName</strong>
                        </a>
                    </li>
                }
                else
                {
                    <li>
                        <a href="@country.Url">
                            <span class="flag-icon flag-icon-@country.Name.ToLower()"></span>
                            @country.CountryName
                        </a>
                    </li>
                }
            }
        </ul>
    </div>
}